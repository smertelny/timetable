{% extends "base.html" %}

{% block title %}{{ _("Select Preferred Teacher") }}{% endblock title %}

{% block content %}
{% if request.user.is_teacher %}
<h2>{{ _("Timetable") }}</h2>
<form method="POST" action="">
    {{ csrf_input }}
    <label for="teacher_id">{{ _("Teacher to follow") }}:</label>
    <select name="teacher_id" id="teacher_id">
        <option disabled hidden {% if not request.user.selected_teacher.id %}selected{% endif %} value="None">---------</option>
        {% for teacher in teachers %}
        <option {% if request.user.selected_teacher.id == teacher.id %}selected{% endif %} value="{{ teacher.id }}">{{ teacher }}</option>
        {% else %}
        <p>LOL</p>
        {% endfor %}
    </select>
    <button type="submit">{{ _("Select") }}</button>
</form>
{% elif request.user.is_student %}
    Not implemented yet for students
{% else %}
    What the hell are you?
{% endif %}

<hr />

<h2>{{ _("Language") }}</h2>
<form method="POST" action="{{ url('set_language') }}">
    {{ csrf_input }}
    <label for="language">{{ _("Language") }}:</label>
    <select name="language" id="language" >
        {% for lang in avaliable_languages %}
        <option value="{{ lang[0] }}"{% if get_current_language() == lang[0] %} selected{% endif %}>{{ lang[1] }}</option>
        {% endfor %}
    </select>
    <button type="submit">{{ _("Select") }}</button>
</form>

{% endblock content %}